version: "3.9"
services:
  app:
    build: .
    volumes:
      - ./screenshots:/usr/screenshots
    network_mode: host
  screen:
    build: ./screen-driver
    volumes:
      - ./screenshots:/usr/screenshots
    devices:
      - "/dev/gpiomem:/dev/gpiomem"
      - "/dev/spidev0.0:/dev/spidev0.0"
      - "/dev/spidev0.1:/dev/spidev0.1"
    depends_on:
      - app
